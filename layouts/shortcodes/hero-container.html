{{- $cols := .Get "cols" | default 3 -}}
{{- $style := .Get "style" | default "" -}}
{{- $image := .Get "image" -}}
{{- $subtitle := .Get "subtitle" -}}
{{- $button_link := .Get "button_link" -}}
{{- $button_text := .Get "button_text" -}}

{{- $css := printf "--hextra-feature-grid-cols: %v; %s" $cols $style -}}
{{- $external := hasPrefix $button_link "http" -}}
{{- $href := cond (hasPrefix $button_link "/") ($button_link | relURL) $button_link -}}

<div
  class="hextra-feature-grid hx:grid sm:max-lg:hx:grid-cols-2 max-hx:sm:grid-cols-1 hx:gap-10 hx:w-full not-prose"
  {{ with $css }}style="{{ . | safeCSS }}"{{ end }}
>
    <div class="hx:py-1 grid-col-span-2">
        <div class="hx:mt-6 hx:mb-6">
            <h1
            class="not-prose hx:text-4xl hx:font-bold hx:leading-none hx:tracking-tighter hx:md:text-5xl hx:py-1 hx:bg-clip-text hx:text-transparent hx:bg-gradient-to-r hx:from-gray-900 hx:to-gray-600 hx:dark:from-gray-100 hx:dark:to-gray-400"
            {{ with $style }}style="{{ . | safeCSS }}"{{ end }}
            >
            {{ .Inner | markdownify }}
            </h1><br/>
        </div>

        <div class="hx:mb-6">
            <p
            class="not-prose hx:text-xl hx:text-gray-600 hx:dark:text-gray-400 hx:sm:text-xl"
            {{ with $style }}style="{{ . | safeCSS }}"{{ end }}
            >
            {{ $subtitle | markdownify }}
            </p><br/>
        </div>

        <div class="hx:mb-6">
            <a
            href="{{ $href }}"
            class="not-prose hx:font-medium hx:cursor-pointer hx:px-6 hx:py-3 hx:rounded-full hx:text-center hx:text-white hx:inline-block hx:bg-primary-600 hx:hover:bg-primary-700 hx:focus:outline-none hx:focus:ring-4 hx:focus:ring-primary-300 hx:dark:bg-primary-600 hx:dark:hover:bg-primary-700 hx:dark:focus:ring-primary-800 hx:transition-all hx:ease-in hx:duration-200"
            {{ with $style }}style="{{ . | safeCSS }}"{{ end }}
            {{ if $external }}target="_blank" rel="noreferrer"{{ end -}}
            >
            {{- $button_text -}}
            </a>
        </div>

    </div>
    {{ if $image }}
        <div class="hx:py-3 hx:md:block hx:md:float-right">
            <img src={{ $image }} width="400" alt="Logo"/><br/>
        </div>
    
    {{- end -}}
</div>
