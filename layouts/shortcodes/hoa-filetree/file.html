{{- $name := .Get "name" -}}
{{- $type := .Get "type" -}}
{{- $size := .Get "size" | default "-" -}}
{{- $date := .Get "date" | default "1970/01/01" -}}
{{- $icon := .Get "icon" -}}
{{- $url := .Get "url" | default "https://github.com/HITSZ-OpenAuto" -}}

{{/*  {{- $state := .Get "state" | default "open" }}  */}}
{{- $image := resources.Get $icon -}}
{{- $downloads := resources.Get "icons/download-file.png" -}}

<li data-level="0" class="hoa-filetree-file hx-group/hover hx-flex hx-flex-col hx-list-none hx-w-full hover:hx-bg-gray-100 dark:hover:hx-bg-gray-900 hx-duration-100 hx-cursor-pointer">
    <span class="hx-w-full hx-flex hx-cursor-default hx-py-3 hx-text-sm">
        
        <label class="hx-flex hx-w-full hx-items-center hx-justify-between">

            <div class="hx-flex hx-ml-4 hx-w-full md:hx-w-1/3 hx-items-center hx-justify-start hx-relative">
                <div class="hoa-file-level hx-inline-block hx-flex-shrink-0"></div>
                <input type="checkbox" class="hoa-checkbox">
                <img src="{{ $image.RelPermalink }}" alt="{{ $type }}" class="hx-w-9 hx-h-9 hx-mx-2 hx-min-w-9"/>
                <span class="hx-flex hx-flex-col hx-font-bold hx-max-w-48 md:hx-max-w-48">
                    <div class="hx-text-balance hx-relative">{{ $name | markdownify }}</div>
                    <div class="hx-flex hx-text-nowrap hx-overflow-auto">
                        <span class="before:hx-content-['.'] hx-text-slate-500 hx-text-xs">{{ $type | markdownify }}</span>
                        <span class="before:hx-content-['|'] before:hx-mx-1 hx-text-slate-500 hx-text-xs md:hx-hidden">{{ $size | markdownify }}</span>
                        <span class="before:hx-content-['|'] before:hx-mx-1 hx-text-slate-500 hx-text-xs md:hx-hidden">{{ $date | markdownify }}</span>
                    </div>
                </span>
            </div>

            <span class="hx-mx-2 hx-w-1/5 hx-min-w-1/5 hx-hidden md:hx-block">{{ $size | markdownify }}</span>
            <span class="hx-mx-4 hx-w-1/5 hx-min-w-1/5 hx-flex hx-items-center hx-justify-between">
                <div class="hx-mr-4 hx-hidden md:hx-block">{{ $date | markdownify }}</div>
                <a class="hoa-filetree-download-link hx-mr-4 hx-hidden group-hover/hover:md:hx-block" href="{{ $url }}" >
                    <img src="{{ $downloads.RelPermalink }}" alt="downloads" class="hx-w-6 hx-h-6 hx-z-10 hx-min-w-6" />
                </a>
            </span>
        </label>
    </span>
    <div class="hx-w-full hx-h-px hx-rounded-md hx-bg-gray-200 dark:hx-bg-gray-800"></div>
</li>